<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Firebase Hosting ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ</title>
  <style>
    body { font-family: "Segoe UI","Hiragino Kaku Gothic ProN","Yu Gothic",Meiryo,Arial,sans-serif; background:#fff; color:#111; line-height:1.75; margin:0; }
    main { max-width: 960px; margin: 24px auto; padding: 24px; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,.06); background:#fff; }
    h1,h2,h3 { color:#0b4a6f; margin:0 0 12px; }
    h2 { margin-top:24px; }
    p { margin: 0 0 12px; }
    ul { margin: 8px 0 12px 20px; }
    pre { background:#fff; color:#111; border:1px solid #cbd5e1; border-radius:8px; padding:12px; overflow:auto; }
    pre code { background:none; font-family: Consolas, Menlo, Monaco, "Courier New", monospace; font-size:15px; line-height:1.35; white-space:pre; display:block; }
    table { width:100%; border-collapse:collapse; margin: 12px 0; font-size: 14px; }
    th, td { border:1px solid #e5e7eb; padding:8px; text-align:left; vertical-align:top; }
    th { background:#f1f5f9; }
    .card { border:1px solid #e5e7eb; border-radius:12px; padding:16px; margin:12px 0; }
    .note { background:#e0f2fe; border-left:6px solid #0ea5e9; padding:12px; border-radius:6px; margin:12px 0; }
    .ok { background:#dcfce7; border-left:6px solid #22c55e; padding:12px; border-radius:6px; margin:12px 0; }
    .warn { background:#fee2e2; border-left:6px solid #ef4444; padding:12px; border-radius:6px; margin:12px 0; }
    .pill { display:inline-block; font-size:12px; background:#f1f5f9; border:1px solid #e2e8f0; padding:2px 8px; border-radius:999px; margin-right:6px; }
  </style>
</head>
<body>
<main>
  <h1>ğŸš€ Firebase Hosting ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰</h1>
  <p><strong>ç›®çš„:</strong> æ‰‹å…ƒã® HTML/CSS/JS ã‚’ Firebase ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€<b>ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³</b>ï¼‹<b>èªè¨¼</b>ï¼‹<b>SharePoint åŸ‹ã‚è¾¼ã¿</b>ã¾ã§ä¸€æ°—ã«åˆ°é”ã™ã‚‹ãŸã‚ã®æœ€çŸ­ãƒ«ãƒ¼ãƒˆã€‚</p>

  <h2>1. å‰æãƒã‚§ãƒƒã‚¯ï¼ˆ5åˆ†ï¼‰</h2>
  <div class="card">
    <ul>
      <li>Node.jsï¼ˆnpmï¼‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼ˆ<code>node -v</code> / <code>npm -v</code> ã§ç¢ºèªï¼‰</li>
      <li>Firebase CLIï¼š<code>npm install -g firebase-tools</code></li>
      <li>Google ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ï¼ˆFirebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ/ç·¨é›†ï¼‰</li>
      <li>ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆä¾‹ï¼š<code>docs.cxj-collab.com</code>ï¼‰ã® DNS ã‚’ç·¨é›†ï¼‰</li>
    </ul>
  </div>

  <h2>2. åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ1ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¤ãä¸€åº¦ï¼‰</h2>
  <div class="card">
    <pre><code># 2-1) ãƒ­ã‚°ã‚¤ãƒ³
firebase login

# 2-2) ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ç´ä»˜ã‘ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§é¸æŠï¼‰
firebase use --add

# 2-3) Hosting ã‚’åˆæœŸåŒ–ï¼ˆpublic ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠï¼‰
firebase init hosting</code></pre>
    <p class="note">æ—¢ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ/HostingãŒã‚ã‚‹å ´åˆã¯ <code>init</code> ã‚’çœç•¥å¯ã€‚<br>ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆä¾‹ï¼š</p>
    <pre><code>.
â”œâ”€ firebase.json
â””â”€ public/
   â”œâ”€ index.html
   â”œâ”€ login.html
   â””â”€ docs/ ... ï¼ˆé…ä¿¡ã—ãŸã„HTMLã‚„ç”»åƒãªã©ï¼‰</code></pre>
  </div>

  <h2>3. å‹•ä½œç¢ºèª â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæœ€å°ã‚´ãƒ¼ãƒ«ï¼‰</h2>
  <div class="card">
    <pre><code># 3-1) ãƒ­ãƒ¼ã‚«ãƒ«ã§ public/ ã‚’ç”¨æ„ï¼ˆindex.html ã ã‘ã§ã‚‚OKï¼‰
echo "&lt;h1&gt;Hello Firebase&lt;/h1&gt;" &gt; public/index.html

# 3-2) ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæœ¬ç•ªã¸ï¼‰
firebase deploy --only hosting</code></pre>
    <div class="ok"><b>æˆåŠŸã®ã‚µã‚¤ãƒ³:</b> <code>https://&lt;project-id&gt;.web.app</code> ãŒè¡¨ç¤ºã§ãã‚‹ã€‚</div>
  </div>

  <h2>4. ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã¤ãªãï¼ˆHTTPS è‡ªå‹•ï¼‰</h2>
  <div class="card">
    <ol>
      <li>Firebase Console â†’ Hosting â†’ã€Œ<b>ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ </b>ã€â†’ <code>docs.cxj-collab.com</code></li>
      <li>æ¡ˆå†…ã©ãŠã‚Š DNS ã« <b>TXT</b>ï¼ˆæ‰€æœ‰æ¨©ï¼‰ã¨ <b>A/AAAA</b> ã‚’è¿½åŠ </li>
      <li>æ•°ååˆ†ã§è¨¼æ˜æ›¸ãŒ â€œæ¥ç¶šæ¸ˆã¿â€ ã«ã€‚ä»¥å¾Œã¯ <code>https://docs.cxj-collab.com</code> ã‚’åˆ©ç”¨</li>
    </ol>
    <p class="note"><b>Authorized domains</b> ã«ã‚‚ <code>docs.cxj-collab.com</code> / <code>&lt;projectId&gt;.firebaseapp.com</code> ã‚’å…¥ã‚Œã¦ãŠãã¨ã€èªè¨¼é€£æºæ™‚ã«å®‰å¿ƒã€‚</p>
  </div>

  <h2>5. èªè¨¼ï¼ˆ2ã¤ã®é¸æŠè‚¢ï¼‰</h2>
  <table>
    <tr><th>æ–¹å¼</th><th>æ¦‚è¦</th><th>å°ç·š</th><th>å‚™è€ƒ</th></tr>
    <tr>
      <td><b>ãƒ¡ãƒ¼ãƒ«ãƒªãƒ³ã‚¯ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒ¬ã‚¹ï¼‰</b></td>
      <td>ç¤¾å†…ãƒ¡ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒªãƒ³ã‚¯ã‚’é€ã‚‹æ–¹å¼</td>
      <td>
        Authentication â†’ ã‚µã‚¤ãƒ³ã‚¤ãƒ³æ–¹æ³• â†’ <b>Email/Password = ON</b>ã€<b>Email link (passwordless) = ON</b><br>
        <code>sendSignInLinkToEmail()</code> ã‚’ <code>login.html</code> ã§å®Ÿè£…
      </td>
      <td>ç¤¾å†…ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã§å¼¾ã‹ã‚Œã‚‹å ´åˆã¯ã€Œé€ä¿¡ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ç‹¬è‡ªåŒ–ã€ã‚„ã€Œä¸€æ™‚çš„ã« Email/Password ä½µç”¨ã€ã§å›é¿</td>
    </tr>
    <tr>
      <td><b>Email/Passwordï¼ˆæš«å®šãƒ»ä½µç”¨ï¼‰</b></td>
      <td>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆâ†’åˆæœŸãƒ‘ã‚¹ã§ãƒ­ã‚°ã‚¤ãƒ³</td>
      <td>Authentication â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã€</td>
      <td>ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„æ™‚ã®å³å›é¿ã«æœ‰åŠ¹ã€‚ã‚ã¨ã§ç„¡åŠ¹åŒ–å¯èƒ½</td>
    </tr>
  </table>

  <h2>6. å›°ã£ãŸã‚‰ï¼ˆã‚ã‚‹ã‚ã‚‹ï¼‰</h2>
  <div class="warn">
    <ul>
      <li><b>auth/operation-not-allowed</b>ï¼šã‚µã‚¤ãƒ³ã‚¤ãƒ³æ–¹æ³•ã®è©²å½“é …ç›®ãŒ <b>ON</b> ã«ãªã£ã¦ã„ãªã„</li>
      <li><b>auth/unauthorized-domain</b>ï¼š<b>Authorized domains</b> ã«ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ãŒæœªè¿½åŠ </li>
      <li><b>ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„</b>ï¼šé€ä¿¡å…ƒã‚’<b>ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³åŒ–</b>ï¼ˆDNSã§ SPF/DKIM ã‚’æ•´åˆï¼‰ or ä¸€æ™‚çš„ã« <b>Email/Password ä½µç”¨</b></li>
      <li><b>æ–‡å­—åŒ–ã‘</b>ï¼šHTML ã‚’ <b>UTF-8 ã§ä¿å­˜</b>ã—ã€<code>&lt;meta charset="utf-8"&gt;</code> ã‚’å…ˆé ­ã¸</li>
    </ul>
  </div>

  <h2>7. æ¬¡ã®ä¸€æ‰‹ï¼ˆä»»æ„ï¼‰</h2>
  <div class="card">
    <ul>
      <li><b>è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤</b>ï¼šGitHub Actions ã§ push â†’ <code>firebase deploy</code></li>
      <li><b>ç›´ãƒªãƒ³ã‚¯å³æ ¼ã‚¬ãƒ¼ãƒ‰</b>ï¼šCloud Run ã‚’å‰æ®µã«ç½®ãã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ Cookie æ¤œè¨¼å¾Œã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¿”å´</li>
      <li><b>ç›®æ¬¡è‡ªå‹•ç”Ÿæˆ</b>ï¼š200ãƒšãƒ¼ã‚¸ã®ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã‚’ãƒ“ãƒ«ãƒ‰æ™‚ã«ç”Ÿæˆ</li>
    </ul>
  </div>

  <div class="ok">
    <b>ã¾ã¨ã‚:</b> <u>â‘  init â†’ â‘¡ public ã«ç½®ã â†’ â‘¢ deploy â†’ â‘£ ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ â†’ â‘¤ èªè¨¼ â†’ â‘¥ åŸ‹ã‚è¾¼ã¿</u> ã®é †ã§é€²ã‚ã‚Œã°ã€æœ€çŸ­ã§ç¤¾å†…é…ä¿¡ãŒå®Œæˆã—ã¾ã™ã€‚
  </div>
</main>
</body>
</html>
