<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>IPv6 ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰ï¼ˆãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ« / ã‚°ãƒ­ãƒ¼ãƒãƒ« / æœ‰åŠ¹åŒ–æ‰‹é †ï¼‰</title>
  <style>
    body { font-family: "Segoe UI", "Hiragino Kaku Gothic ProN", "Yu Gothic", Meiryo, Arial, sans-serif; background:#ffffff; color:#111; line-height:1.75; margin:0; }
    main { max-width: 960px; margin: 24px auto; padding: 24px; border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,.06); background:#fff; }
    h1 { color:#0b4a6f; margin:0 0 12px; }
    h2 { color:#0b4a6f; margin:24px 0 8px; }
    h3 { color:#0b4a6f; margin:16px 0 6px; }
    p { margin: 0 0 12px; }
    ul { margin: 0 0 12px 22px; }
    pre { background:#ffffff; color:#111; border:1px solid #cbd5e1; border-radius:8px; padding:12px; overflow:auto; }
    pre code { background:none; font-family: Consolas, Menlo, Monaco, "Courier New", monospace; font-size:15px; line-height:1.35; white-space:pre; display:block; }
    code.inline { background:#f8fafc; border:1px solid #e2e8f0; padding:2px 6px; border-radius:6px; }
    table { width:100%; border-collapse:collapse; margin: 12px 0; font-size: 14px; }
    th, td { border:1px solid #e5e7eb; padding:8px; text-align:left; }
    th { background:#f1f5f9; }
    .note { background:#e0f2fe; border-left:6px solid #0ea5e9; padding:12px; border-radius:6px; margin:12px 0; }
    .summary { background:#f8fafc; border: 2px solid #e2e8f0; padding: 12px; border-radius: 8px; }
    .small { color:#475569; font-size:13px; }
  </style>
</head>
<body>
<main>
  <h1>ğŸ“˜ IPv6 ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰</h1>
  <p class="small">ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ« / ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆ / Windowsãƒ»Linuxãƒ»ESXi 7.0 ã§ã®æœ‰åŠ¹åŒ–æ‰‹é †ã‚’ç°¡æ½”ã«ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚</p>

  <h2>ğŸ”¹ IPv6 ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆfe80::/64ï¼‰</h2>
  <ul>
    <li>åŒä¸€ãƒªãƒ³ã‚¯ï¼ˆL2 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆï¼‰å†…ã®ã¿ã§æœ‰åŠ¹ãª <strong>éãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</strong> ã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚ã‚µãƒ–ãƒãƒƒãƒˆã‚’è¶ŠãˆãŸé€šä¿¡ã¯ä¸å¯ã€‚</li>
    <li>Windows / Linux ã§ã¯ã€<strong>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æœ‰åŠ¹åŒ–æ™‚ã«è‡ªå‹•ä»˜ä¸</strong>ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ <strong>EUI-64</strong> å½¢å¼ã§ 64 bit ã® IIDï¼ˆInterface Identifierï¼‰ã‚’ç”Ÿæˆã€‚</li>
    <li>ç”¨é€”ï¼šè¿‘éš£æ¢ç´¢ï¼ˆNDPï¼‰ã€é‡è¤‡ã‚¢ãƒ‰ãƒ¬ã‚¹æ¤œå‡ºï¼ˆDADï¼‰ã€RA ã®å—ä¿¡ã€åˆæœŸç–é€šãªã©ã€‚</li>
    <li>è¡¨ç¤ºä¾‹ï¼š<code class="inline">fe80::021a:2bff:fe3c:4d5e%eth0</code>ï¼ˆ<code class="inline">%</code>ä»¥é™ã¯ã‚¾ãƒ¼ãƒ³IDï¼‰ã€‚</li>
  </ul>
  <div class="note"><strong>ãƒ¡ãƒ¢:</strong> EUI-64 ç”Ÿæˆã¯ 48bit MAC ã‚’åˆ†å‰²â†’<code class="inline">FF:FE</code> ã‚’æŒ¿å…¥â†’å…ˆé ­ãƒã‚¤ãƒˆã® U/L ãƒ“ãƒƒãƒˆåè»¢ã§ 64bit IID ã‚’ä½œæˆã—ã¾ã™ã€‚IID ã¯ <strong>å¸¸ã« 64 bit</strong> ã§ã™ã€‚</div>

  <h2>ğŸ”¹ IPv6 ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆï¼ˆ2000::/3ï¼‰</h2>
  <ul>
    <li>ã‚µãƒ–ãƒãƒƒãƒˆå¤–ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆåˆ°é”ã«ä½¿ç”¨ã™ã‚‹ <strong>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯èƒ½</strong> ã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚</li>
    <li>ä»˜ä¸æ–¹æ³•ï¼šSLAACï¼ˆRAï¼‰ã€DHCPv6ã€æ‰‹å‹•è¨­å®šã€‚</li>
    <li>EUI-64 ã‚’ãã®ã¾ã¾ç”¨ã„ã‚‹ã¨ <strong>MAC ç”±æ¥ã§ç«¯æœ«ç‰¹å®šã•ã‚Œã‚„ã™ã„</strong>ãŸã‚ã€é€šå¸¸ã¯
      <strong>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ‹¡å¼µï¼ˆRFC 4941ï¼‰</strong>ã‚„<strong>å®‰å®šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ï¼ˆRFC 7217ï¼‰</strong>ãŒæ¨å¥¨ã€‚</li>
  </ul>

  <table>
    <tr><th>æ–¹å¼</th><th>æ¦‚è¦</th><th>åˆ©ç‚¹</th><th>æ³¨æ„ç‚¹</th></tr>
    <tr>
      <td>EUI-64</td>
      <td>MAC ã‹ã‚‰ IID ã‚’ç”Ÿæˆ</td>
      <td>è¨­å®šä¸è¦ã§å®‰å®š</td>
      <td>è¿½è·¡ãƒ»ç‰¹å®šã®ãƒªã‚¹ã‚¯</td>
    </tr>
    <tr>
      <td>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼æ‹¡å¼µï¼ˆRFC4941ï¼‰</td>
      <td>ãƒ©ãƒ³ãƒ€ãƒ  IIDï¼ˆéšæ™‚æ›´æ–°ï¼‰</td>
      <td>ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°è€æ€§ãŒé«˜ã„</td>
      <td>ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¤‰ã‚ã‚Šã‚„ã™ã„</td>
    </tr>
    <tr>
      <td>å®‰å®šãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ï¼ˆRFC7217ï¼‰</td>
      <td>ç§˜å¯†éµã‚„IFæƒ…å ±ã‹ã‚‰å®‰å®šç”Ÿæˆ</td>
      <td>å®‰å®šãƒ»ç§˜åŒ¿æ€§ã®ä¸¡ç«‹</td>
      <td>å®Ÿè£…ä¾å­˜ã®è¨­å®šãŒå¿…è¦</td>
    </tr>
  </table>

  <div class="summary"><strong>ãƒã‚¤ãƒ³ãƒˆ:</strong> ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç–é€šç¢ºèªã«ã¯ <code class="inline">fe80::/64</code> ã§ã¯ãªãã€
    ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆï¼ˆã¾ãŸã¯ ULA <code class="inline">fc00::/7</code>ï¼‰ã‚’ç”¨ã„ã€é©åˆ‡ãªãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒˆã¨ RA/DHCPv6 ã‚’ä½µç”¨ã—ã¾ã™ã€‚
  </div>

  <h2>ğŸ›  OSåˆ¥ï¼šIPv6 ã®æœ‰åŠ¹åŒ–ï¼ˆæœ€çŸ­æ‰‹é †ï¼‰</h2>

  <h3>Windowsï¼ˆServer / 10 / 11ï¼‰</h3>
  <ul>
    <li>GUIï¼š<em>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶š â†’ ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</em> ã§ <strong>Internet Protocol Version 6 (TCP/IPv6)</strong> ã«ãƒã‚§ãƒƒã‚¯ã€‚</li>
    <li>PowerShellï¼ˆç®¡ç†è€…ï¼‰ï¼š</li>
  </ul>
<pre><code># ã‚¢ãƒ€ãƒ—ã‚¿åã‚’ç¢ºèª
Get-NetAdapter | Select-Object Name, Status

# IPv6 ãƒã‚¤ãƒ³ãƒ‰ã‚’æœ‰åŠ¹åŒ–ï¼ˆä¾‹: "Ethernet"ï¼‰
Enable-NetAdapterBinding -Name "Ethernet" -ComponentID ms_tcpip6

# ä»˜ä¸çŠ¶æ³ã‚’ç¢ºèª
Get-NetIPAddress -AddressFamily IPv6
</code></pre>

  <h3>Linuxï¼ˆRHEL / Ubuntu ç­‰ï¼‰</h3>
  <ul>
    <li>ã‚«ãƒ¼ãƒãƒ«æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ï¼ˆå¿…è¦æ™‚ï¼‰ï¼š</li>
  </ul>
<pre><code># ä¸€æ™‚çš„ï¼ˆå³æ™‚åæ˜ ï¼‰
sudo sysctl -w net.ipv6.conf.all.disable_ipv6=0
sudo sysctl -w net.ipv6.conf.default.disable_ipv6=0

# æ°¸ç¶šåŒ–ï¼ˆä¾‹ï¼š/etc/sysctl.d/99-ipv6.confï¼‰
echo 'net.ipv6.conf.all.disable_ipv6=0' | sudo tee /etc/sysctl.d/99-ipv6.conf
echo 'net.ipv6.conf.default.disable_ipv6=0' | sudo tee -a /etc/sysctl.d/99-ipv6.conf
sudo sysctl --system

# NetworkManager åˆ©ç”¨æ™‚ï¼ˆæ¥ç¶šãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šï¼‰
nmcli connection show
sudo nmcli connection modify &lt;profile&gt; ipv6.method auto
sudo nmcli connection up &lt;profile&gt;

# çŠ¶æ…‹ç¢ºèª
ip -6 addr show
</code></pre>

  <h3>VMware ESXi 7.0ï¼ˆç®¡ç†ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼‰</h3>
  <ul>
    <li>vSphere Host Clientï¼š<em>ãƒ›ã‚¹ãƒˆ â†’ æ§‹æˆ â†’ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ â†’ TCP/IP æ§‹æˆ</em> ã§ <strong>IPv6 ã‚’æœ‰åŠ¹åŒ–</strong>ï¼ˆå†èµ·å‹•è¦æ±‚ã®æ¡ˆå†…ãŒå‡ºã‚‹å ´åˆã‚ã‚Šï¼‰ã€‚</li>
    <li>DCUIï¼š<em>Configure Management Network â†’ IPv6 Configuration</em> ã§ <strong>Enable IPv6</strong>ï¼ˆå†èµ·å‹•è¦æ±‚ï¼‰ã€‚</li>
    <li>CLIï¼ˆSSH/ESXi Shellï¼‰ï¼š</li>
  </ul>
<pre><code># ã‚¹ã‚¿ãƒƒã‚¯å…¨ä½“ã§ IPv6 ã‚’æœ‰åŠ¹åŒ–ï¼ˆå†èµ·å‹•ãŒå¿…è¦ï¼‰
esxcli network ip set --ipv6-enabled true

# ç®¡ç†IFï¼ˆä¾‹: vmk0ï¼‰ã§ IPv6 ã‚’æœ‰åŠ¹åŒ–
esxcli network ip interface ipv6 set -i vmk0 -e true

# ï¼ˆä»»æ„ï¼‰é™çš„ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä»˜ä¸
esxcli network ip interface ipv6 address add -i vmk0 -I 2001:db8::10 -N 64

# ç¢ºèª
esxcli network ip interface ipv6 address list
</code></pre>

  <p class="small">æœ€çµ‚æ›´æ–°: 2025-10-14ï¼ˆJSTï¼‰</p>
</main>
</body>
</html>
